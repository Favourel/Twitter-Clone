{% extends 'blog/base.html' %}
{% load humanize %}
{% load static %}
{% load subtract %}
{% load mentions %}
{% load crispy_forms_tags %}
{% block title %} {{user_profile}} | Elodimuor-Blog {% endblock %}



{% block content %}
<style>
    .user_background {
        background: url({{ user_profile.background_image.url }}) no-repeat;
        background-attachment: flex;
        background-size: 100% 15em;
        background-color: ;
        background-repeat: no-repeat;
        background-position: top;
        border-top-right-radius: .375rem;
        box-shadow:hsl(0, 0%, 80%) 0 0 16px;
        border-radius: 4px;
        padding: 8px;
    }
</style>
<div class="col-lg-6 col-md-6">
    {% if messages %}
    {% for msg in messages %}
    <div id="overlay" class="alert alert-{{ msg.tags }}  fade show" role="alert">
        <b id="msg-text">
            {% if msg.tags == 'error' %}
            <svg width="1rem" height="1rem" class="ml-3" viewBox="0 0 1792 1792"
                 xmlns="http://www.w3.org/2000/svg">
                <path fill="#dd4646"
                      d="M1277 1122q0-26-19-45l-181-181 181-181q19-19 19-45 0-27-19-46l-90-90q-19-19-46-19-26 0-45 19l-181 181-181-181q-19-19-45-19-27 0-46 19l-90 90q-19 19-19 46 0 26 19 45l181 181-181 181q-19 19-19 45 0 27 19 46l90 90q19 19 46 19 26 0 45-19l181-181 181 181q19 19 45 19 27 0 46-19l90-90q19-19 19-46zm387-226q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/>
            </svg>
            {% endif %}
            {% if msg.tags == 'success' %}
            <svg width="1.4rem" height="1.4rem" class="ml-3" viewBox="0 0 1792 1792"
                 xmlns="http://www.w3.org/2000/svg">
                <path fill="#70bf2b"
                      d="M1412 734q0-28-18-46l-91-90q-19-19-45-19t-45 19l-408 407-226-226q-19-19-45-19t-45 19l-91 90q-18 18-18 46 0 27 18 45l362 362q19 19 45 19 27 0 46-19l543-543q18-18 18-45zm252 162q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/>
            </svg>
            {% endif %}
            {% if msg.tags == 'warning' %}
            <svg width="1rem" height="1rem" class="ml-3" viewBox="0 0 1792 1792"
                 xmlns="http://www.w3.org/2000/svg">
                <path fill="#efb80b"
                      d="M1024 1375v-190q0-14-9.5-23.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 23.5v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5zm-2-374l18-459q0-12-10-19-13-11-24-11h-220q-11 0-24 11-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5zm-14-934l768 1408q35 63-2 126-17 29-46.5 46t-63.5 17h-1536q-34 0-63.5-17t-46.5-46q-37-63-2-126l768-1408q17-31 47-49t65-18 65 18 47 49z"/>
            </svg>

            {% endif %}
            {{ msg|upper }}
        </b>

    </div>
    {% endfor %}
    {% endif %}
    <div class="user_background">
        <div class=" n">
            <div class="media" style="margin-top:160px;">
                <img class="rounded-circle" style="border: 3px solid #fff;"
                     width="140" height="140" src="{{ user_profile.image.url }}" alt="">
                <br>
                <div class="media-body mt-2">
                    <br>
                    <br>
                    <br>
                    <div class="d-flex float-right">
                        {% if request.user != user_profile %}
                        <div class="dropdown">
                            <svg xmlns="http://www.w3.org/2000/svg" style="cursor: pointer;"
                                 width="1.7em" height="1.7em" fill="currentColor" class="bi mr-1 list-menu mt-1 bi-filter-circle" viewBox="0 0 16 16">
                              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                              <path d="M7 11.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5z"/>
                            </svg>
                            <div id="list_menu" class="dropdown-content flex animated--grow-in dropdown-menu fade_ dropdown-menu-right">
                                <ul class="list-group" style="background: #f6f9fc !important">
                                    <li class="list-group-item"
                                         style="cursor: pointer;background: #f6f9fc !important" data-target="#blockuserModal" data-toggle="modal">
                                        <b id="block_text">
                                            {% if user_profile in request.user.block_list.all %}
                                            Unblock
                                            {% else %}
                                            Block {% endif %}
                                        </b><b>@{{ user_profile }}</b>
                                    </li>
                                    <a data-href="{% url 'mute_profile' user_profile %}" class="mute-btn">
                                        <li class="list-group-item"
                                            style="cursor: pointer;background: #f6f9fc !important">
                                            <b id="mute_text">
                                                {% if user_profile in request.user.mute_list.all %}
                                                Unmute
                                                {% else %}
                                                Mute {% endif %}
                                            </b><b>@{{ user_profile }}</b>
                                        </li>
                                    </a>

                                    <li class="list-group-item"
                                      style="background: #f6f9fc !important;cursor: pointer;">
                                      <b>Report @{{ user_profile }}</b>
                                    </li>
                                    <li class="list-group-item"
                                      style="cursor: pointer;background: #f6f9fc !important">
                                      <b>Copy link to profile</b>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        {% endif %}
                        <script>
                            $(".list-menu").click(function(){
                              $("#list_menu").toggle();
                            });
                        </script>
                        {% if request.user == user_profile %}
                        {% elif user_profile in request.user.following.all %}
                            {% if request.user in user_profile.post_notification.all %}
                            <a data-href="{% url 'post_notify' user_profile %}" class="mt-1 mr-1 bi-bell-notify notify-btn"
                               style="cursor: pointer;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1.7em"
                                     height="1.7em" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
                                    <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
                                </svg>
                            </a>
                            <a data-href="{% url 'post_notify' user_profile %}" class="mt-1 mr-1 bi-bell-slash notify-btn"
                               style="cursor: pointer; display: none" data-placement="left" data-toggle="tooltip"
                               title="Notify me when they create post">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1.7em" height="1.7em" fill="currentColor"
                                     class="bi bi-bell-slash" viewBox="0 0 16 16">
                                  <path d="M5.164 14H15c-.299-.199-.557-.553-.78-1-.9-1.8-1.22-5.12-1.22-6 0-.264-.02-.523-.06-.776l-.938.938c.02.708.157 2.154.457 3.58.161.767.377 1.566.663 2.258H6.164l-1 1zm5.581-9.91a3.986 3.986 0 0 0-1.948-1.01L8 2.917l-.797.161A4.002 4.002 0 0 0 4 7c0 .628-.134 2.197-.459 3.742-.05.238-.105.479-.166.718l-1.653 1.653c.02-.037.04-.074.059-.113C2.679 11.2 3 7.88 3 7c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0c.942.19 1.788.645 2.457 1.284l-.707.707zM10 15a2 2 0 1 1-4 0h4zm-9.375.625a.53.53 0 0 0 .75.75l14.75-14.75a.53.53 0 0 0-.75-.75L.625 15.625z"/>
                                </svg>
                            </a>
                            {% else %}
                            <a data-href="{% url 'post_notify' user_profile %}" class="mt-1 mr-1 bi-bell-slash notify-btn"
                               style="cursor: pointer;" data-placement="left" data-toggle="tooltip"
                               title="Notify me when they create post">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1.7em" height="1.7em" fill="currentColor"
                                     class="bi bi-bell-slash" viewBox="0 0 16 16">
                                  <path d="M5.164 14H15c-.299-.199-.557-.553-.78-1-.9-1.8-1.22-5.12-1.22-6 0-.264-.02-.523-.06-.776l-.938.938c.02.708.157 2.154.457 3.58.161.767.377 1.566.663 2.258H6.164l-1 1zm5.581-9.91a3.986 3.986 0 0 0-1.948-1.01L8 2.917l-.797.161A4.002 4.002 0 0 0 4 7c0 .628-.134 2.197-.459 3.742-.05.238-.105.479-.166.718l-1.653 1.653c.02-.037.04-.074.059-.113C2.679 11.2 3 7.88 3 7c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0c.942.19 1.788.645 2.457 1.284l-.707.707zM10 15a2 2 0 1 1-4 0h4zm-9.375.625a.53.53 0 0 0 .75.75l14.75-14.75a.53.53 0 0 0-.75-.75L.625 15.625z"/>
                                </svg>
                            </a>
                            <a data-href="{% url 'post_notify' user_profile %}"
                               class="mt-1 mr-1 bi-bell-notify notify-btn" style="cursor: pointer; display: none">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1.7em"
                                     height="1.7em" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
                                    <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
                                </svg>
                            </a>
                            {% endif %}
                        {% elif not request.user in user_profile.post_notification.all %}
                        <a data-href="{% url 'post_notify' user_profile %}" class="mt-1 mr-1 bi-bell-slash notify-btn"
                           style="cursor: pointer; display: none" data-placement="left" data-toggle="tooltip"
                           title="Notify me when they create post">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1.7em" height="1.7em" fill="currentColor"
                                 class="bi bi-bell-slash" viewBox="0 0 16 16">
                              <path d="M5.164 14H15c-.299-.199-.557-.553-.78-1-.9-1.8-1.22-5.12-1.22-6 0-.264-.02-.523-.06-.776l-.938.938c.02.708.157 2.154.457 3.58.161.767.377 1.566.663 2.258H6.164l-1 1zm5.581-9.91a3.986 3.986 0 0 0-1.948-1.01L8 2.917l-.797.161A4.002 4.002 0 0 0 4 7c0 .628-.134 2.197-.459 3.742-.05.238-.105.479-.166.718l-1.653 1.653c.02-.037.04-.074.059-.113C2.679 11.2 3 7.88 3 7c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0c.942.19 1.788.645 2.457 1.284l-.707.707zM10 15a2 2 0 1 1-4 0h4zm-9.375.625a.53.53 0 0 0 .75.75l14.75-14.75a.53.53 0 0 0-.75-.75L.625 15.625z"/>
                            </svg>
                        </a>
                        <a data-href="{% url 'post_notify' user_profile %}" class="mt-1 mr-1 bi-bell-notify notify-btn"
                           style="cursor: pointer; display: none">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1.7em"
                                 height="1.7em" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
                                <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
                            </svg>
                        </a>
                        {% endif %}

                        {% if request.user == user_profile %}
                        <a class="float-right btn btn-outline-info" data-target="#updateUserModal" data-toggle="modal">Edit
                            profile</a>
                        {% elif user_profile in request.user.following.all %}
                        <a data-href="{% url 'follower-api' user_profile %}"
                           class="btn btn-info follow-btn text-light btn-md float-right" id="follow">Following
                        </a>
                        {% elif request.user in user_profile.following.all %}
                        <a data-href="{% url 'follower-api' user_profile %}"
                           class="btn btn-outline-info follow-btn btn-md float-right">Follow back
                        </a>
                        {% else %}
                        <a data-href="{% url 'follower-api' user_profile %}"
                           class="btn btn-outline-info follow-btn btn-md float-right"
                           id="follow-button">Follow
                        </a>
                        {% endif %}

                    </div>
                </div>
            </div>
            <h3 class="mt-2">
                <strong>
                    {% if user_profile.display_name %}
                    {{ user_profile.display_name }}
                    {% else %}
                    {{ user_profile }}
                    {% endif %}
                    {% if user_profile.is_verified %}
                    <img width="20px" height="20px" class="ml-1"
                         src="{% static 'images/verify.png' %}" alt="">
                    {% endif %}
                </strong>
            </h3>
            <div>
                @{{ user_profile }}{% if not request.user == user_profile %}
                {% if request.user in user_profile.following.all %}
                <p class="badge badge-secondary"> Follows you</p>{% endif %}{% endif %}
            </div>
            <h6>About - {{ user_profile.about }}</h6>
            <p>
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor"
                     class="bi bi-calendar3" viewBox="0 0 16 16">
                    <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"/>
                    <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                </svg>
                Joined {{ user_profile.date_joined|time }} &bull; {{ user.date_joined|date }}
            </p>

            <a href="{% url 'follow' user_profile %}" class=" text-dark">
                <b class="_result_following">
                    {{ user_profile.follower.count|intword|subtract:0 }}
                </b> Followers
            </a>&bull;
            <a href="{% url 'follow' user_profile %}#Following" class=" text-dark">
                <b>
                    {{ user_profile.following.count|intword|subtract:0 }}
                </b>
                Following
                <br>
            </a>
            {% if not user_profile == request.user %}
            {% if followed_by %}
            <div class="d-flex">
                {% for follower in followed_by %}
                <img src="{{ follower.image.url }}" class="rounded-circle mt-1 image___" width="30" height="30" alt=""
                     style="">
                {% endfor %}
                <p class="mt-2 ml-1"> Followed by
                    {% if followed_by_count >= 2 %}
                    {% for follower in followed_by %} <a href="{% url 'a_follower_post_view' follower%}">{{ follower }}</a>
                    {% endfor %} and {{ followed_by_count|intword|subtract:1 }} others
                    {% elif followed_by_count <= 1 %}
                    {% for follower in followed_by %} <a href="{% url 'a_follower_post_view' follower%}">{{ follower }}</a>
                    {% endfor %}
                    {% endif %}
                </p>
            </div>
            {% endif %}
            {% endif %}
            <style>

                #slider{
                    max-width: 100%;
                    display: flex;
                    flex-wrap: nowrap;
                    -ms-overflow-style: none;
                    scrollbar-width: none;
                    overflow-x: auto;
                    scroll-behaviour: smooth;
                }
                #slider::-webkit-scrollbar{display: none;}
                .col-md-3 {margin-right: 30px;cursor:pointer;}
                @media only screen and (max-width: 1000px) {
                    .col-3 {margin-right: 12px;cursor:pointer;}
                }

            </style>

            <div class="tab mt-2">
                <div class="column">
                    <div id="slide-wrapper">
                        <div id="slider">
                            <div class="col-md-3 col-3">
                                <button class="tablinks" onclick="openCity(event, 'Posts')" id="defaultOpen">
                                    <b>{{ posts.count|intword }} Posts</b>
                                </button>
                            </div>
                            <div class="col-md-3 col-3">
                                <button class="tablinks" id="slideLeft" onclick="openCity(event, 'Replies')">
                                    <b>{{ posts_commented.count|intword }} Replies</b>
                                </button>
                            </div>
                            <div class="col-md-3 col-3">
                                <button class="tablinks" onclick="openCity(event, 'Likes')">
                                    <b>{{ combined_likes_count|intword }} Likes</b>
                                </button>
                            </div>
                            <div class="col-md-3 col-3">
                                <button class="tablinks" id="slideRight" onclick="openCity(event, 'Repost')">
                                    <b>{{ posts_reposted.count|intword }} Reposts</b>
                                </button>
                            </div>
                            <div class="col-md-3 col-3">
                                <button class="tablinks"  onclick="openCity(event, 'Media')">
                                    <b>{{ media_count|intword }} Media</b>
                                </button>
                            </div>
                            <script>
                                let buttonRight = document.getElementById('slideRight');
                                let buttonLeft = document.getElementById('slideLeft');

                                buttonLeft.addEventListener('click', function(isLoading){
                                    document.documentElement.style.scrollBehavior = "smooth";
                                    document.getElementById('slider').scrollLeft -= 270

                                })

                                buttonRight.addEventListener('click', function(){
                                    document.documentElement.style.scrollBehavior = "smooth";
                                    document.getElementById('slider').scrollLeft += 270

                                })
                            </script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div id="Posts" class="tabcontent">
        {% for post in posts %}
        <div class="box-element mb-3">
            <div class="content-section">
                <div class="media">
                    <a class="text-dark" href="{% url 'a_follower_post_view' post.author %}">
                        <img class="rounded-circle article-img" src="{{ post.author.image.url }}" alt="">
                    </a>
                    <div class="media-body">
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.author %}">
                            <strong class="account-heading dropbtn">
                                {% if post.author.display_name %}
                                {{ post.author.display_name }}
                                {% else %}
                                {{ post.author }}
                                {% endif %}
                                {% if post.author.is_verified %}
                                <img width="15px" height="15px"
                                     src="{% static 'images/verify.png' %}" alt="">
                                {% endif %}
                                &bull; {{ post.date_posted|date:"M d y" }}
                            </strong>

                            <p class="text-secondary mb-1">@{{ post.author }}</p>
                        </a>
                        <a class="text-decoration-none mb-1 text-secondary text-code" href="{{ post.get_absolute_url }}">
                            <h6>{{ post.content|safe|mentions|hashtags }}</h6>
                        </a>
                        <div id="like_result">
                        <div class="row">
                            <div class="col-lg-4 col-4">
                                <b>{{ post.like.count|intword }} </b>
                                <a data-href='{{post.get_api_like_url}}' class="like-btn" data-toggle="tooltip"
                                   data-placement="top" title="Like">
                                    <img src="{% static 'images/like (2).png' %}"
                                         class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                                </a>
                            </div>
                            <div class="col-lg-4 col-4">
                                <b>{{ post.blogcomment_set.count|intword }} </b>
                                <img onclick="openForm()" data-toggle="tooltip" data-placement="top" title="Comment"
                                src="{% static 'images/comment (2).png' %}" class="mb-" width="23" height="23" alt="">
                            </div>
                            <div class="col-lg-4 col-4">
                                <a class="text-dark" href="{{post.get_repost_url}}">
                                    <b data-target="#postReposModal" data-toggle="modal">
                                        {{ post.blogrepost_set.count|intword }}
                                    </b>
                                    <img data-toggle="tooltip" data-placement="top" title="Repost"
                                         src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                                </a>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <div id="Replies" class="tabcontent">
        {% for post in posts_commented %}
        <div class="box-element mb-3">
            <div class="content-section">
                <div class="media">
                    <a class="text-dark" href="{% url 'a_follower_post_view' post.post.author %}">
                        <img class="rounded-circle article-img" src="{{ post.post.author.image.url }}" alt="">
                    </a>
                    <div class="media-body">
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.post.author %}">
                            <strong class="account-heading dropbtn">
                                {% if post.post.author.display_name %}
                                {{ post.post.author.display_name }}
                                {% else %}
                                {{ post.post.author }}
                                {% endif %}
                                {% if post.post.author.is_verified %}
                                <img width="15px" height="15px"
                                     src="{% static 'images/verify.png' %}" alt="">
                                {% endif %}
                                &bull; {{ post.post.date_posted|date:"M d y" }}
                            </strong>

                            <p class="text-secondary mb-1">@{{ post.post.author }}</p>
                        </a>
                        <a class="text-decoration-none text-code text-secondary mb-1" href="{{ post.post.get_absolute_url }}">
                            <h6>{{ post.post|safe|mentions|hashtags }}</h6>
                        </a>
                        <div class="row">
                        <div class="col-lg-4 col-4">
                            <b>{{ post.post.like.count|intword }} </b>
                            <img data-toggle="tooltip" data-placement="top" title="Like" src="{% static 'images/like (2).png' %}"
                                class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                        </div>
                        <div class="col-lg-4 col-4">
                            <b>{{ post.post.blogcomment_set.count|intword }} </b>
                            <img src="{% static 'images/comment (2).png' %}"
                                 data-toggle="tooltip" data-placement="top" title="Comment"
                                 class="mb-" width="23" height="23" alt="">
                        </div>
                        <div class="col-lg-4 col-4">
                            <a class="text-dark" href="{{post.post.get_repost_url}}">
                                <b data-target="#postReposModal" data-toggle="modal">
                                    {{ post.post.blogrepost_set.count|intword }}
                                </b>
                                <img data-toggle="tooltip" data-placement="top" title="Repost"
                                     src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                            </a>
                        </div>
                    </div>
                        <hr class="my-2">
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.user %}">
                            <div class="media">
                                <img class="rounded-circle article-img" style="width: 50px;height:50px"
                                     src="{{ post.user.image.url }}" alt="">
                                <div class="media-body">
                                    <strong class="account-heading dropbtn" style="width: 50px;height:50px">
                                        {% if post.user.display_name %}
                                        {{ post.user.display_name }}
                                        {% else %}
                                        {{ post.user }}
                                        {% endif %}

                                        {% if post.user.is_verified %}
                                        <img width="15px" height="15px"
                                             src="{% static 'images/verify.png' %}" alt="">
                                        {% endif %}
                                        &bull; {{ post.date_posted|date:"M d y" }}
                                    </strong>
                                    <p class="text-secondary">@{{ post.user }}</p>
                                </div>
                            </div>
                        </a>
                        <a class="text-decoration-none text-secondary mb-1 text-code"
                           href="{{ post.post.get_absolute_url }}#comment">
                            <h6>{{ post.comment|safe|mentions|truncatewords:'70'|hashtags }}</h6>
                        </a>
                    </div>
                </div>
                <br>
            </div>
        </div>

        {% endfor %}
    </div>
    <div id="Likes" class="tabcontent">
        {% for post in posts_liked %}
        <div class="box-element mb-3">
            <div class="content-section">
                {% if post.text %}

                <div class="media">
                    <a class="text-dark" href="{% url 'a_follower_post_view' post.user %}">
                        <img class="rounded-circle article-img" src="{{ post.user.image.url }}" alt="">
                    </a>
                    <div class="media-body">
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.user %}">
                            <strong class="account-heading dropbtn" style="width: 50px;height:50px">
                                {% if post.user.display_name %}
                                {{ post.user.display_name }}
                                {% else %}
                                {{ post.user }}
                                {% endif %}

                                {% if post.user.is_verified %}
                                <img width="15px" height="15px"
                                     src="{% static 'images/verify.png' %}" alt="">
                                {% endif %}
                                &bull; {{ post.date_posted|date:"M d y" }}
                            </strong>
                            <p class="text-secondary mb-1">@{{ post.user }}</p>
                        </a>
                        <a href="{{post.get_repost_absolute_url}}">
                            {% if post.text %}
                            <h6>{{ post.text|safe|mentions|truncatewords:'70'|hashtags }}</h6>
                            {% endif %}
                        </a>
                        {% if post.post %}
                        <div style="border: 1px solid #adb5bd; border-radius: 13px; padding: 9px;">
                            <a class="text-dark" href="{% url 'a_follower_post_view' post.post.author %}">
                                <div class="media">
                                    <img class="rounded-circle" style="width: 30px;height:30px"
                                         src="{{ post.post.author.image.url }}" alt="">
                                    <div class="media-body ml-1">
                                        <strong class="account-heading dropbtn">
                                            {% if post.post.author.display_name %}
                                            {{ post.post.author.display_name }}
                                            {% else %}
                                            {{ post.post.author }}
                                            {% endif %}

                                            {% if post.post.author.is_verified %}
                                            <img width="15px" height="15px"
                                                 src="{% static 'images/verify.png' %}" alt="">
                                            {% endif %}
                                            &bull; {{ post.post.date_posted|date:"M d y" }}
                                        </strong>
                                    </div>
                                </div>
                            </a>
                            <a class="text-decoration-none text-secondary text-code article-content mt-1"
                               href="{{ post.post.get_absolute_url }}">
                                <h6 class="mb-1">{{ post.post.content|safe|mentions|truncatewords:'20'|hashtags }}</h6>
                            </a>
                        </div>
                        {% elif post.repost %}
                        <div style="border: 1px solid #adb5bd; border-radius: 13px; padding: 9px;">
                            <a class="text-dark" href="{% url 'a_follower_post_view' post.repost.user %}">
                                <div class="media">
                                    <img class="rounded-circle" style="width: 30px;height:30px"
                                         src="{{ post.repost.user.image.url }}" alt="">
                                    <div class="media-body ml-1">
                                        <strong class="account-heading dropbtn">
                                            {% if post.repost.user.display_name %}
                                            {{ post.repost.user.display_name }}
                                            {% else %}
                                            {{ post.repost.user }}
                                            {% endif %}

                                            {% if post.repost.user.is_verified %}
                                            <img width="15px" height="15px"
                                                 src="{% static 'images/verify.png' %}" alt="">
                                            {% endif %}
                                            &bull; {{ post.repost.date_posted|date:"M d y" }}

                                        </strong>
                                    </div>
                                </div>
                            </a>
                            <a class="text-decoration-none text-code text-secondary article-content mt-1"
                               href="{{ post.repost.get_repost_absolute_url }}">
                                <h6 class="mb-1">{{ post.repost.text|safe|mentions|truncatewords:'20'|hashtags }}</h6>
                            </a>
                        </div>
                        {% else %}
                        <div class="text-light"
                             style="border: 1px solid #adb5bd; border-radius: 13px; padding: 9px; background: darkgrey; font-color: #fff">
                            Author of this post deleted this post. It can't be seen.
                        </div>
                        {% endif %}
                        <div class="mt-1">

                            <div class="row">
                                    <div class="col-lg-4 col-4">
                                        <b>{{ post.like.count|intword }} </b>
                                        <a data-href='{{post.get_api_like_url}}' class="like-btn" data-toggle="tooltip"
                                           data-placement="top" title="Like">
                                            <img src="{% static 'images/like (2).png' %}"
                                                 class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                                        </a>
                                    </div>
                                    <div class="col-lg-4 col-4">
                                        <b>{{ post.blogcomment_set.count|intword }} </b>
                                        <img onclick="openForm()" data-toggle="tooltip" data-placement="top" title="Comment"
                                        src="{% static 'images/comment (2).png' %}" class="mb-" width="23" height="23" alt="">
                                    </div>
                                    <div class="col-lg-4 col-4">
                                        <a class="text-dark" href="{{post.get_repost_url}}">
                                            <b data-target="#postReposModal" data-toggle="modal">
                                                {{ post.blogrepost_set.count|intword }}
                                            </b>
                                            <img data-toggle="tooltip" data-placement="top" title="Repost"
                                                 src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                                        </a>
                                    </div>
                                </div>

                        </div>
                    </div>
                </div>

                {% elif not post.text %}

                <div class="media">
                    {% if post.author %}
                    <a href="{% url 'a_follower_post_view' post.author %}">
                        <img class="rounded-circle article-img" src="{{ post.author.image.url }}" alt="">
                    </a>
                    {% elif post.repost %}
                    <a href="{% url 'a_follower_post_view' post.repost.user %}">
                        <img class="rounded-circle article-img" src="{{ post.repost.user.image.url }}" alt="">
                    </a>
                    {% elif post.post %}
                    <a href="{% url 'a_follower_post_view' post.post.author %}">
                        <img class="rounded-circle article-img" src="{{ post.post.author.image.url }}" alt="">
                    </a>
                    {% endif %}
                    <div class="media-body">
                        {% if post.author %}
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.author %}">
                            <strong class="account-heading dropbtn">
                                {% if post.author.display_name %}
                                {{ post.author.display_name }}
                                {% else %}
                                {{ post.author }}
                                {% endif %}

                                {% if post.author.is_verified %}
                                <img width="15px" height="15px"
                                     src="{% static 'images/verify.png' %}" alt="">
                                {% endif %}
                                &bull; {{ post.date_posted|date:"M d y" }}
                            </strong>
                        </a>
                        {% elif post.repost.user %}
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.repost.user %}">
                            <strong class="account-heading dropbtn">
                                {% if post.repost.user.display_name %}
                                {{ post.repost.user.display_name }}
                                {% else %}
                                {{ post.repost.user }}
                                {% endif %}
                                {% if post.repost.user.is_verified %}
                                <img width="15px" height="15px"
                                     src="{% static 'images/verify.png' %}" alt="">
                                {% endif %}
                                &bull; {{ post.date_posted|date:"M d y" }}
                            </strong>
                        </a>
                        {% elif post.post %}
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.post.author %}">
                            <strong class="account-heading dropbtn">

                                {% if post.post.author.display_name %}
                                {{ post.post.author.display_name }}
                                {% else %}
                                {{ post.post.author }}
                                {% endif %}
                                {% if post.post.author.is_verified %}
                                <img width="15px" height="15px"
                                     src="{% static 'images/verify.png' %}" alt="">
                                {% endif %}
                                &bull; {{ post.post.date_posted|date:"M d y" }}
                            </strong>
                        </a>
                        {% endif %}

                        {% if post.author %}
                        <p class="text-secondary mb-1">@{{ post.author }}</p>
                        {% elif post.repost.user %}
                        <p class="text-secondary mb-1">@{{ post.repost.user }}</p>
                        {% elif post.post %}
                        <p class="text-secondary mb-1">@{{ post.post.author }}</p>
                        {% endif %}
                        {% if post.author %}
                        <a class="text-decoration-none article-content text-code text-dark" href="{{ post.get_absolute_url }}">
                            <h6>{{ post.content|safe|mentions|hashtags }}</h6>
                            <div class="row p-2 br-2">
                                {% for image in post.blogimages_set.all %}
                                <div class="col-6 p-1">
                                    <img width="100%" height="100%" src="{{image.image.url}}" alt="">
                                </div>
                                {% endfor %}
                            </div>
                        </a>
                        {% elif post.repost %}
                        <a class="text-decoration-none article-content text-code text-dark" href="{{ post.repost.get_repost_absolute_url }}">
                            <h6>{{ post.repost.text|safe|mentions|hashtags }}</h6>
                            <div class="row p-2 br-2">
                                {% for image in post.blogimages_set.all %}
                                <div class="col-6 p-1">
                                    <img width="100%" height="100%" src="{{image.image.url}}" alt="">
                                </div>
                                {% endfor %}
                            </div>
                        </a>
                        {% elif post.post %}
                        <a class="text-decoration-none article-content text-code text-dark" href="{{ post.post.get_absolute_url }}">
                            <h6>{{ post.post.content|safe|mentions|hashtags }}</h6>
                        </a>
                        {% else %}

                        {% endif %}

                        {% if post.author %}

                        <div class="row">
                                <div class="col-lg-4 col-4">
                                    <b>{{ post.like.count|intword }} </b>
                                    <a data-href='{{post.get_api_like_url}}' class="like-btn" data-toggle="tooltip"
                                       data-placement="top" title="Like">
                                        <img src="{% static 'images/like (2).png' %}"
                                             class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                                    </a>
                                </div>
                                <div class="col-lg-4 col-4">
                                    <b>{{ post.blogcomment_set.count|intword }} </b>
                                    <img onclick="openForm()" data-toggle="tooltip" data-placement="top" title="Comment"
                                    src="{% static 'images/comment (2).png' %}" class="mb-" width="23" height="23" alt="">
                                </div>
                                <div class="col-lg-4 col-4">
                                    <a class="text-dark" href="{{post.get_repost_url}}">
                                        <b data-target="#postReposModal" data-toggle="modal">
                                            {{ post.blogrepost_set.count|intword }}
                                        </b>
                                        <img data-toggle="tooltip" data-placement="top" title="Repost"
                                             src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                                    </a>
                                </div>
                            </div>

                        {% elif post.repost %}
                        <div class="row">
                            <div class="col-lg-4 col-4">
                                <b>{{ post.repost.like.count|intword }} </b>
                                <a data-href='{{postv.get_api_like_url}}' class="like-btn" data-toggle="tooltip"
                                   data-placement="top" title="Like">
                                    <img src="{% static 'images/like (2).png' %}"
                                         class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                                </a>
                            </div>
                            <div class="col-lg-4 col-4">
                                <b>{{ post.repost.repostcomment_set.count|intword }} </b>
                                <img onclick="openForm()" data-toggle="tooltip" data-placement="top" title="Comment"
                                src="{% static 'images/comment (2).png' %}" class="mb-" width="23" height="23" alt="">
                            </div>
                            <div class="col-lg-4 col-4">
                                <a class="text-dark" href="{{post.get_repost_url}}">
                                    <b data-target="#postReposModal" data-toggle="modal">
                                        {{ post.repost.blogrepost_set.count|intword }}
                                    </b>
                                    <img data-toggle="tooltip" data-placement="top" title="Repost"
                                         src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                                </a>
                            </div>
                        </div>

                        {% elif post.post %}
                        <div class="row">
                            <div class="col-lg-4 col-4">
                                <b>{{ post.post.like.count|intword }} </b>
                                <img data-toggle="tooltip" data-placement="top" title="Like" src="{% static 'images/like (2).png' %}"
                                    class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                            </div>
                            <div class="col-lg-4 col-4">
                                <b>{{ post.post.blogcomment_set.count|intword }} </b>
                                <img src="{% static 'images/comment (2).png' %}"
                                     data-toggle="tooltip" data-placement="top" title="Comment"
                                     class="mb-" width="23" height="23" alt="">
                            </div>
                            <div class="col-lg-4 col-4">
                                <a class="text-dark" href="{{post.post.get_repost_url}}">
                                    <b data-target="#postReposModal" data-toggle="modal">
                                        {{ post.post.blogrepost_set.count|intword }}
                                    </b>
                                    <img data-toggle="tooltip" data-placement="top" title="Repost"
                                         src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                                </a>
                            </div>
                        </div>
                        {% endif %}

                    </div>
                </div>
                {% else %}
                <div class="media">
                    <a class="text-dark" href="{% url 'a_follower_post_view' post.author %}">
                        <img class="rounded-circle article-img" src="{{ post.author.image.url }}" alt="">
                    </a>
                    <div class="media-body">
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.author %}">
                            <strong class="account-heading dropbtn">
                                {% if post.author.display_name %}
                                {{ post.author.display_name }}
                                {% else %}
                                {{ post.author }}
                                {% endif %}
                                {% if post.author.is_verified %}
                                <img width="15px" height="15px"
                                     src="{% static 'images/verify.png' %}" alt="">
                                {% endif %}
                                &bull; {{ post.date_posted|date:"M d y" }}
                            </strong>

                            <p class="text-secondary mb-1">@{{ post.author }}</p>
                        </a>
                        <a class="text-decoration-none text-secondary mb-1 text-code" href="{{ post.get_absolute_url }}">
                            <h6>{{ post.content|safe|mentions|hashtags }}</h6>
                        </a>

                        <div class="row">
                            <div class="col-lg-4 col-4">
                                <b>{{ post.like.count|intword }} </b>
                                <a data-href='{{post.get_api_like_url}}' class="like-btn" data-toggle="tooltip"
                                   data-placement="top" title="Like">
                                    <img src="{% static 'images/like (2).png' %}"
                                         class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                                </a>
                            </div>
                            <div class="col-lg-4 col-4">
                                <b>{{ post.blogcomment_set.count|intword }} </b>
                                <img onclick="openForm()" data-toggle="tooltip" data-placement="top" title="Comment"
                                src="{% static 'images/comment (2).png' %}" class="mb-" width="23" height="23" alt="">
                            </div>
                            <div class="col-lg-4 col-4">
                                <a class="text-dark" href="{{post.get_repost_url}}">
                                    <b data-target="#postReposModal" data-toggle="modal">
                                        {{ post.blogrepost_set.count|intword }}
                                    </b>
                                    <img data-toggle="tooltip" data-placement="top" title="Repost"
                                         src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    <div id="Repost" class="tabcontent">
        {% for post in posts_reposted %}
        <div class="box-element mb-3">
            <div class="content-section">
            {% if post.text %}

            <div class="media">
                <a class="text-dark" href="{% url 'a_follower_post_view' post.user %}">
                    <img class="rounded-circle article-img" src="{{ post.user.image.url }}" alt="">
                </a>
                <div class="media-body">
                    <a class="text-dark" href="{% url 'a_follower_post_view' post.user %}">
                        <strong class="account-heading dropbtn" style="width: 50px;height:50px">
                            {% if post.user.display_name %}
                            {{ post.user.display_name }}
                            {% else %}
                            {{ post.user }}
                            {% endif %}

                            {% if post.user.is_verified %}
                            <img width="15px" height="15px"
                                 src="{% static 'images/verify.png' %}" alt="">
                            {% endif %}
                            &bull; {{ post.date_posted|date:"M d y" }}
                        </strong>
                        <p class="text-secondary mb-1">@{{ post.user }}</p>
                    </a>
                    <a href="{{post.get_repost_absolute_url}}">
                        {% if post.text %}
                        <h6>{{ post.text|safe|mentions|truncatewords:'70'|hashtags }}</h6>
                        {% endif %}
                    </a>
                    {% if post.post %}
                    <div style="border: 1px solid #adb5bd; border-radius: 13px; padding: 9px;">
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.post.author %}">
                            <div class="media">
                                <img class="rounded-circle" style="width: 30px;height:30px"
                                     src="{{ post.post.author.image.url }}" alt="">
                                <div class="media-body ml-1">
                                    <strong class="account-heading dropbtn">
                                        {% if post.post.author.display_name %}
                                        {{ post.post.author.display_name }}
                                        {% else %}
                                        {{ post.post.author }}
                                        {% endif %}

                                        {% if post.post.author.is_verified %}
                                        <img width="15px" height="15px"
                                             src="{% static 'images/verify.png' %}" alt="">
                                        {% endif %}
                                        &bull; {{ post.post.date_posted|date:"M d y" }}
                                    </strong>
                                </div>
                            </div>
                        </a>
                        <a class="text-decoration-none text-secondary text-code article-content mt-1"
                           href="{{ post.post.get_absolute_url }}">
                            <h6 class="mb-1">{{ post.post.content|safe|mentions|truncatewords:'20'|hashtags }}</h6>
                        </a>
                    </div>
                    {% elif post.repost %}
                    <div style="border: 1px solid #adb5bd; border-radius: 13px; padding: 9px;">
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.repost.user %}">
                            <div class="media">
                                <img class="rounded-circle" style="width: 30px;height:30px"
                                     src="{{ post.repost.user.image.url }}" alt="">
                                <div class="media-body ml-1">
                                    <strong class="account-heading dropbtn">
                                        {% if post.repost.user.display_name %}
                                        {{ post.repost.user.display_name }}
                                        {% else %}
                                        {{ post.repost.user }}
                                        {% endif %}

                                        {% if post.repost.user.is_verified %}
                                        <img width="15px" height="15px"
                                             src="{% static 'images/verify.png' %}" alt="">
                                        {% endif %}
                                        &bull; {{ post.repost.date_posted|date:"M d y" }}

                                    </strong>
                                </div>
                            </div>
                        </a>
                        <a class="text-decoration-none text-code text-secondary article-content mt-1"
                           href="{{ post.repost.get_repost_absolute_url }}">
                            <h6 class="mb-1">{{ post.repost.text|safe|mentions|truncatewords:'20'|hashtags }}</h6>
                        </a>
                    </div>
                    {% else %}
                    <div class="text-light"
                         style="border: 1px solid #adb5bd; border-radius: 13px; padding: 9px; background: darkgrey; font-color: #fff">
                        Author of this post deleted this post. It can't be seen.
                    </div>
                    {% endif %}
                    <div class="mt-1">
                        <div id="like_result___">
                            <div class="row">
                                <div class="col-lg-4 col-4">
                                    <b>{{ post.like.count|intword }} </b>
                                    <a data-href='{{post.get_api_like_url}}' class="like-btn" data-toggle="tooltip"
                                       data-placement="top" title="Like">
                                        <img src="{% static 'images/like (2).png' %}"
                                             class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                                    </a>
                                </div>
                                <div class="col-lg-4 col-4">
                                    <b>{{ post.blogcomment_set.count|intword }} </b>
                                    <img onclick="openForm()" data-toggle="tooltip" data-placement="top" title="Comment"
                                    src="{% static 'images/comment (2).png' %}" class="mb-" width="23" height="23" alt="">
                                </div>
                                <div class="col-lg-4 col-4">
                                    <a class="text-dark" href="{{post.get_repost_url}}">
                                        <b data-target="#postReposModal" data-toggle="modal">
                                            {{ post.blogrepost_set.count|intword }}
                                        </b>
                                        <img data-toggle="tooltip" data-placement="top" title="Repost"
                                             src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {% elif not post.text %}

            <div class="media">
                {% if post.author %}
                <a href="{% url 'a_follower_post_view' post.author %}">
                    <img class="rounded-circle article-img" src="{{ post.author.image.url }}" alt="">
                </a>
                {% elif post.repost %}
                <a href="{% url 'a_follower_post_view' post.repost.user %}">
                    <img class="rounded-circle article-img" src="{{ post.repost.user.image.url }}" alt="">
                </a>
                {% elif post.post %}
                <a href="{% url 'a_follower_post_view' post.post.author %}">
                    <img class="rounded-circle article-img" src="{{ post.post.author.image.url }}" alt="">
                </a>
                {% endif %}
                <div class="media-body">
                    {% if post.author %}
                    <a class="text-dark" href="{% url 'a_follower_post_view' post.author %}">
                        <strong class="account-heading dropbtn">
                            {% if post.author.display_name %}
                            {{ post.author.display_name }}
                            {% else %}
                            {{ post.author }}
                            {% endif %}

                            {% if post.author.is_verified %}
                            <img width="15px" height="15px"
                                 src="{% static 'images/verify.png' %}" alt="">
                            {% endif %}
                            &bull; {{ post.date_posted|date:"M d y" }}
                        </strong>
                    </a>
                    {% elif post.repost.user %}
                    <a class="text-dark" href="{% url 'a_follower_post_view' post.repost.user %}">
                        <strong class="account-heading dropbtn">
                            {% if post.repost.user.display_name %}
                            {{ post.repost.user.display_name }}
                            {% else %}
                            {{ post.repost.user }}
                            {% endif %}
                            {% if post.repost.user.is_verified %}
                            <img width="15px" height="15px"
                                 src="{% static 'images/verify.png' %}" alt="">
                            {% endif %}
                            &bull; {{ post.date_posted|date:"M d y" }}
                        </strong>
                    </a>
                    {% elif post.post %}
                    <a class="text-dark" href="{% url 'a_follower_post_view' post.post.author %}">
                        <strong class="account-heading dropbtn">

                            {% if post.post.author.display_name %}
                            {{ post.post.author.display_name }}
                            {% else %}
                            {{ post.post.author }}
                            {% endif %}
                            {% if post.post.author.is_verified %}
                            <img width="15px" height="15px"
                                 src="{% static 'images/verify.png' %}" alt="">
                            {% endif %}
                            &bull; {{ post.post.date_posted|date:"M d y" }}
                        </strong>
                    </a>
                    {% endif %}

                    {% if post.author %}
                    <p class="text-secondary mb-1">@{{ post.author }}</p>
                    {% elif post.repost.user %}
                    <p class="text-secondary mb-1">@{{ post.repost.user }}</p>
                    {% elif post.post %}
                    <p class="text-secondary mb-1">@{{ post.post.author }}</p>
                    {% endif %}
                    {% if post.author %}
                    <a class="text-decoration-none article-content text-code text-dark" href="{{ post.get_absolute_url }}">
                        <h6>{{ post.content|safe|mentions|hashtags }}</h6>
                        <div class="row p-2 br-2">
                            {% for image in post.blogimages_set.all %}
                            <div class="col-6 p-1">
                                <img width="100%" height="100%" src="{{image.image.url}}" alt="">
                            </div>
                            {% endfor %}
                        </div>
                    </a>
                    {% elif post.repost %}
                    <a class="text-decoration-none article-content text-code text-dark" href="{{ post.repost.get_repost_absolute_url }}">
                        <h6>{{ post.repost.text|safe|mentions|hashtags }}</h6>
                        <div class="row p-2 br-2">
                            {% for image in post.blogimages_set.all %}
                            <div class="col-6 p-1">
                                <img width="100%" height="100%" src="{{image.image.url}}" alt="">
                            </div>
                            {% endfor %}
                        </div>
                    </a>
                    {% elif post.post %}
                    <a class="text-decoration-none article-content text-code text-dark" href="{{ post.post.get_absolute_url }}">
                        <h6>{{ post.post.content|safe|mentions|hashtags }}</h6>
                    </a>
                    {% else %}

                    {% endif %}

                    {% if post.author %}
                    <div id="like_result__">
                        <div class="row">
                            <div class="col-lg-4 col-4">
                                <b>{{ post.like.count|intword }} </b>
                                <a data-href='{{post.get_api_like_url}}' class="like-btn" data-toggle="tooltip"
                                   data-placement="top" title="Like">
                                    <img src="{% static 'images/like (2).png' %}"
                                         class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                                </a>
                            </div>
                            <div class="col-lg-4 col-4">
                                <b>{{ post.blogcomment_set.count|intword }} </b>
                                <img onclick="openForm()" data-toggle="tooltip" data-placement="top" title="Comment"
                                src="{% static 'images/comment (2).png' %}" class="mb-" width="23" height="23" alt="">
                            </div>
                            <div class="col-lg-4 col-4">
                                <a class="text-dark" href="{{post.get_repost_url}}">
                                    <b data-target="#postReposModal" data-toggle="modal">
                                        {{ post.blogrepost_set.count|intword }}
                                    </b>
                                    <img data-toggle="tooltip" data-placement="top" title="Repost"
                                         src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                                </a>
                            </div>
                        </div>
                    </div>
                    {% elif post.repost %}
                    <div class="row">
                        <div class="col-lg-4 col-4">
                            <b>{{ post.repost.like.count|intword }} </b>
                            <a data-href='{{postv.get_api_like_url}}' class="like-btn" data-toggle="tooltip"
                               data-placement="top" title="Like">
                                <img src="{% static 'images/like (2).png' %}"
                                     class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                            </a>
                        </div>
                        <div class="col-lg-4 col-4">
                            <b>{{ post.repost.repostcomment_set.count|intword }} </b>
                            <img onclick="openForm()" data-toggle="tooltip" data-placement="top" title="Comment"
                            src="{% static 'images/comment (2).png' %}" class="mb-" width="23" height="23" alt="">
                        </div>
                        <div class="col-lg-4 col-4">
                            <a class="text-dark" href="{{post.get_repost_url}}">
                                <b data-target="#postReposModal" data-toggle="modal">
                                    {{ post.repost.blogrepost_set.count|intword }}
                                </b>
                                <img data-toggle="tooltip" data-placement="top" title="Repost"
                                     src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                            </a>
                        </div>
                    </div>

                    {% elif post.post %}
                    <div class="row">
                        <div class="col-lg-4 col-4">
                            <b>{{ post.post.like.count|intword }} </b>
                            <img data-toggle="tooltip" data-placement="top" title="Like" src="{% static 'images/like (2).png' %}"
                                class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                        </div>
                        <div class="col-lg-4 col-4">
                            <b>{{ post.post.blogcomment_set.count|intword }} </b>
                            <img src="{% static 'images/comment (2).png' %}"
                                 data-toggle="tooltip" data-placement="top" title="Comment"
                                 class="mb-" width="23" height="23" alt="">
                        </div>
                        <div class="col-lg-4 col-4">
                            <a class="text-dark" href="{{post.post.get_repost_url}}">
                                <b data-target="#postReposModal" data-toggle="modal">
                                    {{ post.post.blogrepost_set.count|intword }}
                                </b>
                                <img data-toggle="tooltip" data-placement="top" title="Repost"
                                     src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                            </a>
                        </div>
                    </div>
                    {% endif %}

                </div>
            </div>
            {% endif %}
        </div>
        </div>
        {% endfor %}
    </div>
    <div id="Media" class="tabcontent">
        {% for post in posts %}
        {% if post.blogimages_set.all %}
        <div class="box-element mb-3">
            <div class="content-section">
                <div class="media">
                    <a class="text-dark" href="{% url 'a_follower_post_view' post.author %}">
                        <img class="rounded-circle article-img" src="{{ post.author.image.url }}" alt="">
                    </a>
                    <div class="media-body">
                        <a class="text-dark" href="{% url 'a_follower_post_view' post.author %}">
                            <strong class="account-heading dropbtn">
                                {% if post.author.display_name %}
                                {{ post.author.display_name }}
                                {% else %}
                                {{ post.author }}
                                {% endif %}

                                {% if post.author.is_verified %}
                                <img width="15px" height="15px"
                                     src="{% static 'images/verify.png' %}" alt="">
                                {% endif %}
                                &bull; {{ post.date_posted|date:"M d y" }}
                            </strong>

                            <p class="text-secondary mb-1">@{{ post.author }}</p>
                        </a>
                        <a class="text-decoration-none text-code mb-1 text-secondary" href="{{ post.get_absolute_url }}">
                            <h6>{{ post.content|safe|mentions|hashtags }}</h6>
                            {% if post.blogimages_set.all %}
                            <div class="row p-2 br-2">
                                {% for image in post.blogimages_set.all %}
                                <div class="col-6 p-1">
                                    <img width="100%" height="100%" src="{{image.image.url}}" alt="">
                                </div>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </a>

                        <div class="row">
                            <div class="col-lg-4 col-4">
                                <b>{{ post.like.count|intword }} </b>
                                <a data-href='{{post.get_api_like_url}}' class="like-btn" data-toggle="tooltip"
                                   data-placement="top" title="Like">
                                    <img src="{% static 'images/like (2).png' %}"
                                         class="mb-2" style="cursor:pointer;" width="23" height="23" alt="">
                                </a>
                            </div>
                            <div class="col-lg-4 col-4">
                                <b>{{ post.blogcomment_set.count|intword }} </b>
                                <img onclick="openForm()" data-toggle="tooltip" data-placement="top" title="Comment"
                                src="{% static 'images/comment (2).png' %}" class="mb-" width="23" height="23" alt="">
                            </div>
                            <div class="col-lg-4 col-4">
                                <a class="text-dark" href="{{post.get_repost_url}}">
                                    <b data-target="#postReposModal" data-toggle="modal">
                                        {{ post.blogrepost_set.count|intword }}
                                    </b>
                                    <img data-toggle="tooltip" data-placement="top" title="Repost"
                                         src="{% static 'images/retweet (1).png' %}" class="mb-1" width="23" height="23" alt="">
                                </a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
</div>

<div class="col-lg-3 phone_size">
    <div class="box-element">
        <form action="{% url 'search' %}" autocomplete="off" method="GET" value="{{request.GET.q}}">
            <input type="text" name="q" value="{{request.GET.q}}" class="form-control"
                   placeholder="Search Elodimuor"/>
            <div class="autocomplete" style="width:300px; display:none;">
                <input type="submit" name="submit" value="Search"/>
            </div>
        </form>
    </div>
    <br>
    {% if request.user == user_profile %}
    <div class="box-element">
        <h3><b>Activity</b></h3>
        <div style="display: inline-block" class="d-block">
            <small>Tweet engaged</small>
            <h4><b>
                {% if account_engaged_count %}
                {% for account_engaged in account_engaged_count %}
                {{ account_engaged.account_engaged|intword }}
                {% endfor %}
                {% else %}
                0
                {% endif %}
            </b></h4>
        </div>
        <div style="display: inline-block" class="d-block">
            <small>Profile visits</small>
            <h4><b>{{ user_profile.account_visit|intword }}</b></h4>
        </div>
    </div>
    <br>
    <br>
    {% endif %}
    <div class="sticky-top" style="top: 90px">
        {% if suggested_followers|length > 0 %}
        <div class="box-element">
            <h4 class="mb-3"><strong>You might like</strong></h4>
            {% for list in suggested_followers %}
            <div class="media mt-2">
                <a href="{% url 'a_follower_post_view' list %}">
                    <img class="rounded-circle" style="width:50px;height:50px" src="{{ list.image.url }}"
                         alt="">
                </a>
                <div class="media-body mt-">
                    <a href="{% url 'a_follower_post_view' list %}" class="text-decoration-none text-dark">
                        <strong class="account-heading ml-2">
                            {% if list.display_name %}
                            {{ list.display_name|safe|truncatechars:"11" }}
                            {% else %}
                            {{ list.username|safe|truncatechars:"11" }}
                            {% endif %}
                            {% if list.is_verified %}
                            <img width="15px" height="15px" class="mb-1"
                               src="{% static 'images/verify.png' %}" alt="">
                            {% endif %}
                        </strong>
                    </a>

                    {% if list in request.user.following.all %}
                    <a data-href="{% url 'follower-api' list.username %}" style="border-radius:13px;"
                       class="btn btn-primary follow-btn text-light btn-sm float-right" id="follow-bt">Following
                    </a>
                    {% elif request.user in list.following.all %}
                    <a data-href="{% url 'follower-api' list %}"
                       class="btn btn-outline-info follow-btn btn-sm float-right">Follow back
                    </a>
                    {% else %}
                    <a data-href="{% url 'follower-api' list.username %}" style="border-radius:13px;"
                       class="btn btn-outline-primary follow-btn btn-sm float-right" id="follow-btn">Follow
                    </a>
                    {% endif %}
                    <p class="account-heading ml-2 text-truncate">@{{ list|safe|truncatechars:"15" }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        <br>
        {% endif %}
        <div class="d-md-flex align-items-center justify-content-between text-center text-md-left">
            <ul class="list-inline font-size-sm mb-3 mb-md-0 order-md-2">
                <li class="list-inline-item my-1"><a class="text-decoration-none" href="#">Contacts</a></li>
                <li class="list-inline-item my-1"><a class="text-decoration-none" href="#">About</a>
                </li>
            </ul>
            <p class="font-size-sm mb-0 mr-2 order-md-1">
                <span class="text-decoration-none">
                 2022-Elodimuor, Online Blog.
                </span>
                <a class="text-decoration-none font-weight-normal" href="/"
                   target="_blank" rel="noopener">Favour Elodimuor</a><br><br>
                <a href="https://www.facebook.com/favour.elodimuor/">
                    <img src="https://img.icons8.com/fluent/40/000000/facebook-new.png"/></a>
                <a href="https://www.twitter.com/felodimuor/">
                    <img src="https://img.icons8.com/color/40/000000/twitter-squared.png"/></a>
                <a href="/">
                    <img src="https://img.icons8.com/fluent/40/000000/instagram-new.png"/>
                </a><br><br>
            </p>
        </div>
    </div>
</div>
<style>
/* Dropdown Button */

/* The container <div> - needed to position the dropdown content */
.dropdown {
    position: relative;
    top: 0;

}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f6f9fc !important;
  width: 17rem;
  box-shadow: hsl(0, 0%, 80%) 0 0 16px;
  border-radius: 10px;
  padding: 8px;
  text: flex;
}

.dropdown .dropdown-menu.fade_ {
    animation-name: dropdownAnimation;
    animation-duration: .5s;
    animation-iteration-count: 1;
    animation-timing-function: ease;
    animation-fill-mode: forwards;
}
@keyframes dropdownAnimation {
    0% {
        opacity: 0;
        transform: translateY(58px);
    }
    100% {
        opacity: 1;
        transform: translateY(0px);
    }
}

</style>
<style>

/* Style the tab */
.tab {
  overflow: auto;
}

/* Style the buttons inside the tab */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 4px 6px;
  transition: .3s;
  font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: #ddd;
  border-radius: px;
}

/* Create an active/current tablink class */
.tab button.active {
  background-colo: #007bff !important;
  color: #17a2b8 !important;
  border-bottom: 3px solid #17a2b8;
}

/* Style the tab content */
.tabcontent {
  display: none;
  border-top: none;
}
.nderline {
    width: 51px;
    height: 3px;
    background-color: #17a2b8 !important;
    border-radius: 4px;
    margin-left: 3px;
    }

</style>

<script>
function openCity(evt, cityName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}


</script>
<script>
// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();

</script>
<style>
.user_background_update {
    background: url({{ user_profile.background_image.url }}) no-repeat;
    background-attachment: flex;
    background-size: 100% 15em;
    background-repeat: no-repeat;
    background-position: top;
    border-top-right-radius: .375rem;

    border-radius: 4px;
    padding: 8px;
}
.image_container {
  position: relative;
  width: 30%;

}

.image {
  opacity: 1;
  display: block;
  transition: .5s ease;
  backface-visibility: hidden;
}

.middle {
  transition: .5s ease;
  opacity: 0;
  position: absolute;
  top: 50%;
  left: 30%;
  transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  text-align: center;
}

.image_container:hover .image {
  opacity: 0.7;
}

.image_container:hover .middle {
  opacity: 1;
}

.text {
  background-color: black;
  border-radius: 70%;
  color: white;
  font-size: 12px;
  padding: 14px ;
  opacity: 0.5;
}
</style>
<div class="modal fade" id="updateUserModal" tabindex="-1" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable bg-dark">
        <div class="modal-content" style="background-color: #f6f9fc !important;">
            <div class="modal-header">
                <h5><strong>Edit Profile</strong></h5>
            </div>
            <div class="modal-body">
                <form method="POST" id="update-profile-form" action="{% url 'update_profile'%}" enctype="multipart/form-data">
                    <div class="user_background_update">
                    <div class="media image_container" style="margin-top:160px;">
                        <img class="rounded-circle image" fill="#000" style="border: 3px solid #fff;"
                             width="140" height="140" src="{{ user_profile.image.url }}" alt="">
                        <div class="middle">
                            <div class="text">
                                <label for="upload-photo" class="mb-2 mt-2 mr-2 ml-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                     fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
                                      <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                      <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
                                    </svg>
                                </label>
                                <input type="file" multiple name="photo" id="upload-photo"/>
                                <style>
                                    label {
                                       cursor: pointer;
                                       margin-left: 5px;
                                       /* Style as you please, it will become the visible UI component. */
                                    }

                                    #upload-photo {
                                       opacity: 0;
                                       position: absolute;
                                       z-index: -1;
                                    }

                                </style>
                            </div>
                        </div>
                        <br>
                    </div>

                </div>
                    {% csrf_token %}
                    {{ form|crispy }}
                    <button class="btn create-submit_button btn-block btn-info" type="submit">
                        Update Info
                    </button>
                </form>
            </div>
            <script>
                $(document).ready(function(){
                    var $myForm = $('#update-profile-form')
                    $myForm.submit(function(event){
                        $(".create-submit_button").prop('disabled', true);
                    })
                })
            </script>
        </div>
    </div>
</div>
<div class="modal fade" id="blockuserModal" tabindex="-3" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content" style="background-color: #f6f9fc !important">
            <div class="modal-body">

                <h4>Block @{{user_profile}}?</h4>
                <h6>They will not be able to follow you or view your Tweets, and you
                    will not see Tweets or notifications from @{{user_profile}}.
                </h6>

                <div align="center">
                    <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel
                    </button>
                    <a data-href="{% url 'block_user' user_profile %}" class="btn btn-danger block-btn text-light">Confirm</a>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
 {% if story %}
    <div class="box-element d-none">
        <img src="{{ user.image.url }}" data-target="#storModal" data-toggle="modal"
             class="rounded-circle mb-2 m-1 shadow story_image" width="60" height="60" alt="">
        <div style="margin-left: 43px;" data-toggle="tooltip" data-placement="bottom" title="Add story"
             class="badge-info add-badge text-light rounded-circle">
            <form action="{% url 'blog_home' %}" method="post">
                {% csrf_token %}
                <label for="upload-phot" class="mb-2 d-flex"><h5>+</h5></label>
                <input type="file" multiple name="photo" id="upload-phot"/>
                <button class="btn btn-info" type="submit" style="display: none;">comment</button>
            </form>
        </div>
        <style>
            label {
               cursor: pointer;
               margin-left: 5px;
               /* Style as you please, it will become the visible UI component. */
            }

            #upload-photo {
               opacity: 0;
               position: absolute;
               z-index: -1;
            }
            .story_image {
                position:relative;
            }
            .add-badge {
                position: absolute;
                top: 50px;
                text-align:center;
                font-size: 27px;
                font-color:#fff;
                cursor: pointer;
                width: 25px;
                height: 25px;

            }
        </style>
        {% for followers_image in user.following.all %}
        {% if followers_image.story_set.all %}
        <a href="{% url 'story' followers_image %}">
            {% if followers_image.has_viewed %}
            <img src="{{ followers_image.image.url }}" data-target="#storModal" data-toggle="modal"
                 class="rounded-circle mb-2 m-1 shadow story_image_has_viewed " width="60" height="60" alt="">
            {% else %}
            <img src="{{ followers_image.image.url }}" data-target="#storModal" data-toggle="modal"
                 class="rounded-circle mb-2 m-1 shadow story_image" width="60" height="60" alt="">
            {% endif %}
        </a>
        <style>
            .story_image {
                background: linear-gradient(45deg, #23d5ab, #23d5ab, #0093E9, #23a6d5) border-box;
                border: 3px solid transparent;
                border-radius: 50%;
                cursor: pointer;
                }

            .story_image_has_viewed {
                background: #808080;
                border: 3px solid transparent;
                border-radius: 50%;
                cursor: pointer;
            }
        </style>
        <div class="float-right">

        </div>
        {% endif %}
        {% endfor %}
    </div>

    {% endif %}